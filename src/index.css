@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .bg-gray-750 {
    background-color: rgb(55 65 81 / 0.8);
  }

  /* Smooth scrolling for spaces content */
  .spaces-scroll {
    scroll-behavior: smooth;
    scrollbar-width: thin;
    scrollbar-color: rgb(75 85 99) transparent;
  }

  .spaces-scroll::-webkit-scrollbar {
    width: 8px;
  }

  .spaces-scroll::-webkit-scrollbar-track {
    background: transparent;
  }

  .spaces-scroll::-webkit-scrollbar-thumb {
    background-color: rgb(75 85 99);
    border-radius: 4px;
  }

  .spaces-scroll::-webkit-scrollbar-thumb:hover {
    background-color: rgb(107 114 128);
  }

  /* Mobile-first responsive utilities */
  .mobile-safe-area {
    padding-bottom: env(safe-area-inset-bottom);
    padding-top: env(safe-area-inset-top);
  }

  .mobile-header-height {
    height: calc(3.5rem + env(safe-area-inset-top));
    padding-top: env(safe-area-inset-top);
  }

  .mobile-content-height {
    height: calc(100vh - 3.5rem - env(safe-area-inset-top) - env(safe-area-inset-bottom));
  }

  /* Discord-like hover animations */
  .discord-hover {
    transition: all 0.2s ease-in-out;
  }

  .discord-hover:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  /* Mobile touch feedback */
  .mobile-touch {
    -webkit-tap-highlight-color: rgba(255, 255, 255, 0.1);
    touch-action: manipulation;
  }

  .mobile-touch:active {
    transform: scale(0.98);
    transition: transform 0.1s ease-in-out;
  }

  /* Improved scrollbars for mobile */
  .mobile-scroll {
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .mobile-scroll::-webkit-scrollbar {
    display: none;
  }

  /* Discord-like message animations */
  .message-enter {
    animation: messageSlideIn 0.3s ease-out;
  }

  @keyframes messageSlideIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Mobile keyboard handling */
  .mobile-input-container {
    padding-bottom: env(keyboard-inset-height, 0px);
  }

  /* Safe area utilities */
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }

  .pl-safe {
    padding-left: env(safe-area-inset-left);
  }

  .pr-safe {
    padding-right: env(safe-area-inset-right);
  }

  /* Mobile-optimized text sizes */
  .mobile-text-base {
    font-size: 16px; /* Prevents zoom on iOS */
  }

  /* Discord-like mobile animations */
  .mobile-slide-in {
    animation: mobileSlideIn 0.3s ease-out;
  }

  @keyframes mobileSlideIn {
    from {
      transform: translateX(100%);
    }
    to {
      transform: translateX(0);
    }
  }

  .mobile-slide-out {
    animation: mobileSlideOut 0.3s ease-in;
  }

  @keyframes mobileSlideOut {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-100%);
    }
  }

  /* Mobile-friendly scrollbars */
  .mobile-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(156, 163, 175, 0.3) transparent;
  }

  .mobile-scrollbar::-webkit-scrollbar {
    width: 4px;
  }

  .mobile-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .mobile-scrollbar::-webkit-scrollbar-thumb {
    background-color: rgba(156, 163, 175, 0.3);
    border-radius: 2px;
  }

  /* Mobile viewport fixes */
  .mobile-viewport {
    height: 100vh;
    height: 100dvh; /* Dynamic viewport height for mobile browsers */
  }

  /* Prevent text selection on mobile UI elements */
  .mobile-no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  /* Mobile-optimized button sizes */
  .mobile-button {
    min-height: 44px; /* iOS recommended minimum touch target */
    min-width: 44px;
  }

  /* Mobile-friendly spacing */
  .mobile-spacing {
    padding: 1rem;
  }

  @media (max-width: 640px) {
    .mobile-spacing {
      padding: 0.75rem;
    }
  }

  /* Mobile-optimized card layouts */
  .mobile-card {
    border-radius: 0.75rem;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  }

  /* Mobile navigation transitions */
  .mobile-nav-transition {
    transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
  }

  /* Mobile-friendly form inputs */
  .mobile-input {
    font-size: 16px; /* Prevents zoom on iOS */
    padding: 0.75rem;
    border-radius: 0.5rem;
  }

  /* Mobile-optimized grid layouts */
  .mobile-grid {
    display: grid;
    gap: 1rem;
    grid-template-columns: 1fr;
  }

  @media (min-width: 640px) {
    .mobile-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .mobile-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  /* Animated stars background */
  .stars {
    width: 1px;
    height: 1px;
    background: transparent;
    box-shadow:
      200px 300px rgba(255,255,255,0.8), 800px 150px rgba(255,255,255,0.6),
      1200px 400px rgba(255,255,255,0.9), 400px 600px rgba(255,255,255,0.7),
      1600px 200px rgba(255,255,255,0.5), 600px 800px rgba(255,255,255,0.8),
      1000px 100px rgba(255,255,255,0.6), 300px 500px rgba(255,255,255,0.9),
      1400px 700px rgba(255,255,255,0.7), 700px 350px rgba(255,255,255,0.5),
      100px 750px rgba(255,255,255,0.8), 1500px 450px rgba(255,255,255,0.6),
      500px 250px rgba(255,255,255,0.9), 900px 650px rgba(255,255,255,0.7),
      1300px 550px rgba(255,255,255,0.5), 250px 850px rgba(255,255,255,0.8);
    animation: twinkle 4s ease-in-out infinite alternate;
  }

  .stars2 {
    width: 2px;
    height: 2px;
    background: transparent;
    box-shadow:
      300px 200px rgba(147,51,234,0.6), 1100px 500px rgba(147,51,234,0.4),
      700px 700px rgba(147,51,234,0.8), 1500px 300px rgba(147,51,234,0.5),
      500px 900px rgba(147,51,234,0.7), 1300px 100px rgba(147,51,234,0.6),
      900px 400px rgba(147,51,234,0.4), 200px 600px rgba(147,51,234,0.8),
      1400px 800px rgba(147,51,234,0.5), 600px 150px rgba(147,51,234,0.7);
    animation: twinkle 6s ease-in-out infinite alternate;
  }

  .stars3 {
    width: 3px;
    height: 3px;
    background: transparent;
    box-shadow:
      400px 400px rgba(59,130,246,0.5), 1200px 200px rgba(59,130,246,0.7),
      800px 600px rgba(59,130,246,0.6), 200px 800px rgba(59,130,246,0.4),
      1600px 500px rgba(59,130,246,0.8), 1000px 300px rgba(59,130,246,0.5),
      600px 700px rgba(59,130,246,0.7), 1400px 600px rgba(59,130,246,0.6);
    animation: twinkle 8s ease-in-out infinite alternate;
  }

  @keyframes twinkle {
    0% {
      opacity: 0.3;
    }
    50% {
      opacity: 1;
    }
    100% {
      opacity: 0.3;
    }
  }
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    --radius: 0.5rem;

    --sidebar-background: 0 0% 98%;

    --sidebar-foreground: 240 5.3% 26.1%;

    --sidebar-primary: 240 5.9% 10%;

    --sidebar-primary-foreground: 0 0% 98%;

    --sidebar-accent: 240 4.8% 95.9%;

    --sidebar-accent-foreground: 240 5.9% 10%;

    --sidebar-border: 220 13% 91%;

    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}